create table b_device
(
    ID_NAME_DEVICE    char(20)         not null
        primary key,
    ID_NAME_FULL      char(90)         not null,
    START_BASE_ADRESS int(11) unsigned not null,
    COMMENTS          char(250)        not null
)
    comment 'таблица  устройств' engine = MyISAM;

create table b_tegs
(
    ID_NAME_DEVICE char(20)          not null,
    ID_OFSET       smallint unsigned not null comment 'номер тега  внутри устройства',
    ID_NAME_TEG    char(90)          not null,
    COMMENTS       char(250)         not null,
    primary key (ID_NAME_DEVICE, ID_OFSET)
)
    comment 'таблица  тегов' engine = MyISAM;

create table data
(
    ID          int                                 not null comment 'номер тега уникальный',
    ID_DATETIME timestamp default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment 'дата время получ значения',
    ID_VALUE    double                              not null comment 'само значение',
    primary key (ID, ID_DATETIME)
)
    comment 'основная таблица с данными' engine = MyISAM;

create index ID_DATETIME
    on data (ID_DATETIME);

create table data_dyn
(
    ID          int                                 not null comment 'номер тега уникальный'
        primary key,
    ID_DATETIME timestamp default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment 'дата время получ значения',
    ID_VALUE    double                              not null comment 'само значение'
)
    comment 'таблица с динамическими данными' engine = MyISAM;

create table device
(
    BASE_ADRESS         int                                 not null
        primary key,
    ID_NAME_DEVICE      char(20)                            not null,
    ID_NAME_FULL        char(90)                            null,
    COMMENTS            char(250)                           null,
    ENABLE_DEVICE       tinyint unsigned                    not null comment 'Флаг включено или отключено устройство',
    INTERFACE_SERVER    char(20)                            null comment 'Короткое имя сервера',
    INTERFACE_TYPE      char(20)                            null comment 'Тип интерфейса COM2, USB002, IP....',
    INTERFACE_IP_ADRESS char(100)                           null,
    INTERFACE_IP_PORT   int(11) unsigned                    not null,
    INTERFACE_NOMER     int(11) unsigned                    not null comment '1..255   обычно 1..32',
    DATETIME_CREATE     timestamp default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment 'дата время создания записи'
)
    comment 'таблица  устройств реальных' engine = MyISAM;

create table errors
(
    ID_ERROR   double    not null
        primary key,
    ERROR_NAME char(90)  not null,
    COMMENTS   char(250) not null
)
    comment 'таблица  устройств' engine = MyISAM;

create table tegs
(
    ID                  int                not null comment 'номер тега  уникальный'
        primary key,
    ID_NAME             char(90)           not null,
    COMMENTS            char(250)          not null,
    DEVICE              int(11) unsigned   not null comment 'номер устройства из таблицы DEVICE',
    ENABLE_TEGS         tinyint unsigned   not null comment 'Флаг включено или отключено устройство',
    TIME_OPROS          int     default 0  not null comment 'Минимальное время опроса в секундах 0-всегда опрашивать',
    VALUE_MIN           double  default 0  not null,
    VALUE_MAX           double  default 0  not null,
    VALUE_DECIMAL_POINT tinyint default -1 not null comment 'Количество знаков после запятой 0-округление до целого; -1 -без изменений',
    VALUE_MULTIPLIER    double  default 1  not null
)
    comment 'таблица  тегов' engine = MyISAM;